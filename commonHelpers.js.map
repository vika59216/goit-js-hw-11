{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nloader.style.display = 'none';\nconst searchParams = {\n    key: '42200022-9c7e7676f0f903944c054771a',\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    q: '',\n}\n\nform.addEventListener('submit', e => {\n    e.preventDefault();\n    loader.style.display = 'block';\n    const inputValue = e.target.elements.input.value;\n    searchParams.q = inputValue;\n    getPhotoByName()\n        .then(images => createGallery(images))\n        .catch(error => console.log(error))\n    e.target.reset();\n});\n\nfunction getPhotoByName() {\n    const urlParams = new URLSearchParams(searchParams);\n    return fetch(`https://pixabay.com/api/?${urlParams}`)\n        .then(res => {\n        if (res.ok) {\n            return res.json();\n        } else {\n            throw new Error(res.status);\n        }\n    })\n}\n\nfunction createGallery(images) {\n    if (images.hits.length === 0) {\n       iziToast.show({\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n            messageColor: '#FFFFFF',\n            backgroundColor: '#EF4040',\n            position: 'topRight',\n            messageSize: '16px',\n            messageLineHeight: '24px',\n            maxWidth: '432px',\n       });\n        gallery.innerHTML = '';\n    } else {\n        const link = images.hits.map(image => `<a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n        <img class=\"gallery-image\"\n        src=\"${image.webformatURL}\"\n        alt=\"${image.tags}\"\n         </a>\n        <div class=\"img-content\">\n        <div>\n        <h3>Likes</h3>\n        <p>${image.likes}</p>\n        </div>\n\n        <div>\n        <h3>Views</h3>\n        <p>${image.views}</p>\n        </div>\n\n        <div>\n        <h3>Comments</h3>\n        <p>${image.comments}</p>\n        </div>\n\n        <div>\n        <h3>Downloads</h3>\n        <p>${image.downloads}</p>\n        </div>\n        </div>\n        `).join('');\n        gallery.innerHTML = link;\n    }\n    let lightBox = new SimpleLightbox('.gallery-link');\n    lightBox.refresh();\n    loader.style.display = 'none';\n}"],"names":["form","gallery","loader","searchParams","e","inputValue","getPhotoByName","images","createGallery","error","urlParams","res","iziToast","link","image","SimpleLightbox"],"mappings":"6vBAKA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/CA,EAAO,MAAM,QAAU,OACvB,MAAMC,EAAe,CACjB,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,EAAG,EACP,EAEAH,EAAK,iBAAiB,SAAUI,GAAK,CACjCA,EAAE,eAAc,EAChBF,EAAO,MAAM,QAAU,QACvB,MAAMG,EAAaD,EAAE,OAAO,SAAS,MAAM,MAC3CD,EAAa,EAAIE,EACjBC,EAAgB,EACX,KAAKC,GAAUC,EAAcD,CAAM,CAAC,EACpC,MAAME,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACtCL,EAAE,OAAO,OACb,CAAC,EAED,SAASE,GAAiB,CACtB,MAAMI,EAAY,IAAI,gBAAgBP,CAAY,EAClD,OAAO,MAAM,4BAA4BO,CAAS,EAAE,EAC/C,KAAKC,GAAO,CACb,GAAIA,EAAI,GACJ,OAAOA,EAAI,OAEX,MAAM,IAAI,MAAMA,EAAI,MAAM,CAEtC,CAAK,CACL,CAEA,SAASH,EAAcD,EAAQ,CAC3B,GAAIA,EAAO,KAAK,SAAW,EACxBK,EAAS,KAAK,CACT,QAAS,2EACT,aAAc,UACd,gBAAiB,UACjB,SAAU,WACV,YAAa,OACb,kBAAmB,OACnB,SAAU,OACtB,CAAQ,EACAX,EAAQ,UAAY,OACjB,CACH,MAAMY,EAAON,EAAO,KAAK,IAAIO,GAAS,iCAAiCA,EAAM,aAAa;AAAA;AAAA,eAEnFA,EAAM,YAAY;AAAA,eAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,aAKZA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,aAKXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,aAKXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,aAKdA,EAAM,SAAS;AAAA;AAAA;AAAA,SAGnB,EAAE,KAAK,EAAE,EACVb,EAAQ,UAAYY,CACvB,CACc,IAAIE,EAAe,eAAe,EACxC,QAAO,EAChBb,EAAO,MAAM,QAAU,MAC3B"}